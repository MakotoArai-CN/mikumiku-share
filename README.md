# ğŸš€ MikuMiku-share - é“¾æ¥è½¬ä¸ºäºŒç»´ç 

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„è„šæœ¬ï¼ŒæŠŠé¼ æ ‡å¯ä»¥ç‚¹å‡»çš„é“¾æ¥è½¬ä¸ºäºŒç»´ç ã€‚

## âœ¨ åŠŸèƒ½

- **é“¾æ¥æ‚¬æµ®äºŒç»´ç **: é¼ æ ‡æ‚¬åœåœ¨ä»»ä½•é“¾æ¥ä¸Šæ—¶ï¼Œæ˜¾ç¤ºè¯¥é“¾æ¥çš„äºŒç»´ç ï¼Œæ–¹ä¾¿æ‰‹æœºæ‰«æã€‚
- **å±€åŸŸç½‘åˆ†äº«**(å®éªŒæ€§): æ‰«æå±€åŸŸç½‘å†…çš„å…¶ä»–å®‰è£…äº†MikuMiku-shareçš„è®¾å¤‡ï¼Œä¸€é”®å°†é“¾æ¥å‘é€åˆ°æŒ‡å®šè®¾å¤‡ä¸Šç›´æ¥æ‰“å¼€ã€‚
- **é«˜åº¦å¯å®šåˆ¶**:
  - é»‘/ç™½åå•è®¾ç½®ï¼Œæ§åˆ¶è„šæœ¬åœ¨å“ªäº›ç½‘ç«™ä¸Šå¯ç”¨ã€‚
  - äºŒç»´ç æ˜¾ç¤ºä½ç½®å¯è°ƒï¼ˆé¼ æ ‡é™„è¿‘æˆ–å›ºå®šä½ç½®ï¼‰ã€‚
  - ä¸»è¦åŠŸèƒ½å‡å¯ç‹¬ç«‹å¼€å…³ã€‚
- **ç°ä»£åŒ–UI**: ç°ä»£åŒ–çš„UIè®¾è®¡å’Œä¼˜é›…çš„è¿‡æ¸¡åŠ¨ç”»ï¼Œä½¿ç”¨Shadow DOMéš”ç¦»æ ·å¼ï¼Œé¿å…ä¸ä¸»ç«™å†²çªã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **è¿è¡Œæ—¶**: Bun.js
- **è¯­è¨€**: TypeScript
- **æ‰“åŒ…å·¥å…·**: Vite.js + vite-plugin-monkey
- **äºŒç»´ç **: qrious
- **é€šä¿¡**: WebRTC ï¼Œwebsockets (å±€åŸŸç½‘)

## ğŸ“¦ å®‰è£…ä¸ä½¿ç”¨

### 1. ç¯å¢ƒå‡†å¤‡

- å®‰è£… [Tampermonkey](https://www.tampermonkey.net/) æµè§ˆå™¨æ‰©å±•ã€‚
- æ— æ³•ä½¿ç”¨**Tampermonkey**çš„ç”¨æˆ·å®‰è£…[è„šæœ¬çŒ«](https://scriptcat.org/)æµè§ˆå™¨æ‰©å±•ã€‚
- å®‰è£… [Bun.js](https://bun.sh/) ä½œä¸ºé¡¹ç›®å¼€å‘ç¯å¢ƒã€‚

### 2. å¼€å‘

```bash
# å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®åï¼Œè¿›å…¥é¡¹ç›®ç›®å½•
cd mikumiku-share

# å®‰è£…ä¾èµ–
bun install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
bun dev
```

å¼€å‘æœåŠ¡å™¨å¯åŠ¨åï¼Œä¼šè‡ªåŠ¨åœ¨Tampermonkeyä¸­å®‰è£…ä¸€ä¸ªå¼€å‘ç‰ˆæœ¬çš„è„šæœ¬ã€‚åˆ·æ–°ç½‘é¡µå³å¯çœ‹åˆ°æ•ˆæœï¼Œä¿®æ”¹ä»£ç åé¡µé¢ä¼šè‡ªåŠ¨æ›´æ–°ã€‚

>ä½¿ç”¨è„šæœ¬çŒ«æ—¶ï¼Œé…åˆè„šæœ¬çŒ«çš„vscodeæ‰©å±•[CodFrm.scriptcat-vscode](https://marketplace.visualstudio.com/items?itemName=CodFrm.scriptcat-vscode),å¯ä»¥å®æ—¶é¢„è§ˆæ•ˆæœã€‚æ— éœ€å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œç›´æ¥ä½¿ç”¨ `bun build` å‘½ä»¤å³å¯ã€‚

### 3. æ„å»º

```bash
# æ‰§è¡Œæ„å»ºå‘½ä»¤
bun run build
```

æ„å»ºæˆåŠŸåï¼Œä¼šåœ¨ `dist` ç›®å½•ä¸‹ç”Ÿæˆæœ€ç»ˆçš„ `mikumiku-share.js` æ–‡ä»¶ã€‚æ‚¨å¯ä»¥å°†æ­¤æ–‡ä»¶æ‹–æ‹½åˆ°æµè§ˆå™¨ä¸­è¿›è¡Œå®‰è£…ã€‚

###  4. ä½¿ç”¨

è„šæœ¬å·²å‘å¸ƒåˆ° [Tampermonkey](https://greasyfork.org) å’Œ [ScriptCat](https://scriptcat.org/) å¸‚åœºä¸­ï¼Œæ‚¨å¯ä»¥ç›´æ¥åˆ°å¸‚åœºæœç´¢å¹¶å®‰è£…ã€‚

>å¤§é™†ç”¨æˆ·ç‚¹å‡»[mikumiku-share](https://scriptcat.org/zh-CN/script-show-page/4361)ï¼Œéå¤§é™†ç”¨æˆ·ç‚¹å‡»[mikumiku-share](https://greasyfork.org/zh-CN/scripts/552026-mikumiku-share)

1. å®‰è£…è„šæœ¬åï¼Œåˆ·æ–°ç½‘é¡µï¼Œå³å¯çœ‹åˆ°é“¾æ¥æ‚¬æµ®äºŒç»´ç çš„æ•ˆæœï¼Œé»˜è®¤å¼€å¯äºŒç»´ç ç”Ÿæˆï¼Œä½ç½®è·Ÿéšé¼ æ ‡ï¼Œé»˜è®¤å‡€åŒ–è¿æ¥ã€‚

2. è®¾ç½®ï¼šç‚¹å‡»Tampermonkey/ScriptCatå›¾æ ‡ï¼Œé€‰æ‹©MikuMiku-shareï¼Œè¿›å…¥è®¾ç½®é¡µé¢ï¼Œå¯ä»¥è®¾ç½®é»‘/ç™½åå•ï¼ŒäºŒç»´ç æ˜¾ç¤ºä½ç½®ï¼Œå±€åŸŸç½‘åˆ†äº«å¼€å…³ï¼Œå‡€åŒ–è¿æ¥å¼€å…³ç­‰ã€‚è®¾ç½®å®æ—¶ç”Ÿæ•ˆï¼Œæ— éœ€åˆ·æ–°é¡µé¢ã€‚

3. åˆ é™¤ï¼šç‚¹å‡»Tampermonkey/ScriptCatå›¾æ ‡ï¼Œé€‰æ‹©MikuMiku-shareï¼Œç‚¹å‡»åˆ é™¤å³å¯ã€‚

4. ä¿®æ”¹ï¼šæœ¬é¡¹ç›®ä½¿ç”¨Typescriptå¼€å‘ï¼Œviteæ‰“åŒ…ï¼Œå‘å¸ƒç‰ˆå·²ç»ç»è¿‡viteä¼˜åŒ–ï¼Œæ— æ³•ç›´æ¥ä¿®æ”¹ï¼Œå¦‚éœ€ä¿®æ”¹ï¼Œè¯·è‡ªè¡Œforké¡¹ç›®ã€‚

## Todolist

- [ ] æ–°å¢å¤åˆ¶å‡€åŒ–ï¼ŒæŸäº›ç½‘ç«™å¤åˆ¶åˆ†äº«è¿æ¥æ—¶ä¼šè‡ªåŠ¨æ·»åŠ ç”¨æˆ·IDç­‰éšç§ï¼Œä¾‹å¦‚B**iï¼Œç½‘æŸä¹ä¼šåœ¨åé¢åŠ å…¥éšç§ç›¸å…³å‚æ•°ï¼ˆå…ˆç”Ÿ/å°å§ï¼Œä½ ä¹Ÿä¸æƒ³è¢«åˆ«äººçœ‹è§ä½ çš„å¥‡æ€ªXPå§[bushi]ã€‚å…¶å®æ˜¯ç”¨æˆ·ç”»åƒï¼Œç”¨äºç²¾å‡†æ¨é€ï¼Ÿï¼‰
- [ ] æ–°å¢æ›´å¤šè‡ªå®šä¹‰é€‰é¡¹
- [ ] ä¿®å¤å±€åŸŸç½‘æœåŠ¡å™¨
- [ ] ä¼˜åŒ–äºŒç»´ç æµ®çª—æ˜¾ç¤ºé€»è¾‘
- [ ] æ”¯æŒè‡ªå®šä¹‰äºŒç»´ç æ ·å¼
- [x] äºŒç»´ç å±…ä¸­
- [x] æ–°å¢é“¾æ¥è¿‡æ»¤ï¼ŒæŠŠæŸäº›ç½‘ç«™çš„è½¬å†…é“¾çš„é“¾æ¥è¿‡æ»¤æ‰ï¼Œç›´æ¥è·³è½¬çœŸå®é“¾æ¥ï¼Œexample:`https://www.******.top/share/?url=https://www.******.com`ï¼Œç›´æ¥è·³è½¬çœŸå®é“¾æ¥ã€‚éƒ¨åˆ†åŠ å¯†/è½¬ä¸ºæ‚ä¹±å­—ç¬¦ä¸²çš„è§£æå‡ºçœŸå®é“¾æ¥ã€‚
- [x] æ”¯æŒè‡ªå®šä¹‰äºŒç»´ç æ˜¾ç¤ºä½ç½®
- [x] å‘å¸ƒåˆ°[Tampermonkey](https://www.tampermonkey.net/)å¸‚åœºã€è„šæœ¬çŒ«[ScriptCat](https://scriptcat.org/)å¸‚åœºã€‚

## æ›´æ–°æ—¥å¿—

> ç‰ˆæœ¬å·æ›´æ–°è§„åˆ™ï¼šä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·ï¼Œç‰ˆæœ¬å·é€’å¢è§„åˆ™å¦‚ä¸‹ï¼š
> 1. ä¸»ç‰ˆæœ¬å·ï¼šå‘ç”Ÿé‡å¤§æ›´æ–°/é‡æ„æ—¶ï¼Œä¸»ç‰ˆæœ¬å·é€’å¢
> 2. æ¬¡ç‰ˆæœ¬å·ï¼šæ–°å¢/ä¿®æ”¹åŠŸèƒ½æ—¶ï¼Œæ¬¡ç‰ˆæœ¬å·é€’å¢
> 3. ä¿®è®¢å·ï¼šä¿®å¤bugæ—¶ï¼Œä¿®è®¢å·é€’å¢

- 1.2.1
  - ä¿®å¤éƒ¨åˆ†è¿æ¥äºŒç»´ç ä¸å±…ä¸­çš„é—®é¢˜ã€‚
  - ä¿®å¤äºŒç»´ç æ²¡æœ‰å æ»¡æµ®çª—çš„bugã€‚
  - å‘å¸ƒåˆ°[Tampermonkey](https://www.tampermonkey.net/)å¸‚åœºã€è„šæœ¬çŒ«[ScriptCat](https://scriptcat.org/)å¸‚åœºã€‚

- 1.2.0
  - æ–°å¢é“¾æ¥è¿‡æ»¤åŠŸèƒ½ï¼ŒæŠŠæŸäº›ç½‘ç«™çš„è½¬å†…é“¾çš„é“¾æ¥è¿‡æ»¤æ‰ï¼Œç›´æ¥è·³è½¬çœŸå®é“¾æ¥ã€‚

- 1.1.0
  - æ–°å¢è‡ªå®šä¹‰äºŒç»´ç æ˜¾ç¤ºä½ç½®åŠŸèƒ½ã€‚
  - æ–°å¢äºŒç»´ç æµ®çª—æ‹–æ‹½åŠŸèƒ½

- 1.0.0
  - åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒé“¾æ¥æ‚¬æµ®äºŒç»´ç å’Œå±€åŸŸç½‘åˆ†äº«åŠŸèƒ½ã€‚

## License

æœ¬é¡¹ç›®é‡‡ç”¨ [APGL3.0 License](LICENSE) è®¸å¯è¯ã€‚

## Thanks

- [Tampermonkey](https://www.tampermonkey.net/)
- [Greasyfork](https://greasyfork.org)
- [ScriptCat](https://scriptcat.org/)
- [Bun.js](https://bun.sh/)
- [Vite.js](https://vitejs.dev/)
- [qrious](https://github.com/neocotic/qrious)
- [WebRTC](https://webrtc.org/)
- [AutoRedirector](https://github.com/galaxy-sea/AutoRedirector)
